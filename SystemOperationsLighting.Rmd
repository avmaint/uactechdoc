---
title: "System Operations - Lighting"
author: "Terry Doner"
date: "`r format(Sys.time(), '%B %d %Y')`"
output:
  html_document:
    toc: yes
  pdf_document:
    toc: yes
---

```{r packages, include=FALSE}
require(readr)
require(dplyr)
require(readxl)
require(knitr)
require(jpeg)
require(grid)
require(ggplot2)
require(kableExtra)
```

```{r options, echo=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE)
options(knitr.table.format = "html") # latex for pdf 
```

```{r data}
path <-"~/Documents/UACTech/SystemDocumentation"
inventoryfile <- "TechInventory.xlsx"
fname   <- paste(path, inventoryfile, sep="/")
further <- read_excel(fname, sheet = "Further")
```

# Introduction
This document provides basic operating information for each of the major AV systems at Unionville Alliance Church.

[Back to top](#top)

# Lighting

## Power On

#. Turn on 'Furhman' unit under rear desk / east end - big red switch
    + As of the Fall 2017, this is to be left on at all times. This is temporary as I work through a configuration problem.
#. ensure that only one control cable is plugged in either to the express console or the computer interface.    
#. Go to closet
#. Turn on power bar in closet (scroller power). This is very important.
#. Turn on big switch up high
#. Double check that the scrollers have power (little red light on the scroller). If they don't have power, then using the lights will melt the GEL strings. This is bad.
#. Wait five minutes for the warm-up macro to run.
#. Before running the light you must enure that the red lights on the bottom of the scrollers is on. If not the #3 in the power on sequence might have been skipped. The scrollers will be damaged if those light are not on.

> It is very important to ensure the scroller power is on.

## Power Off

#. To turn off, reverse the order and turn off.

> When leaving the system for teh day ensure that the control cable is connected to the epxress console (and not the computer.)

[Back to top](#top)

#Controlling the Ligthing System

We have two ways of operating the theatrical lighting system. The hardware-based Express Console and the Software based QLC control. To exploit the full capability of our installed lights we need use QLC, for basic operations use the Express console.

You cannot attempt to use both at the same time as things will become confused. You make this choice by physically un-plugging the control cable of the system you don't want to use and plug in the control cable of the system you do want to use for control. 

By default we should leave the system with the Express control cable connected.

> Insert pictures of these two cables.

[Back to top](#top)

#Operating QLC+ (Computer based)

QLC+ is a free software based lighting control platform that offers many useful features. 

We are currently running the software on the VideoMac (CDMU-A002). The software is free so you could install it at home and learn how to use it. [Download here.](http://www.qlcplus.org/)

The following is written based on V4 of the software. (Version 5 will be a major change some point in the future.)

There are some good videos that give a pretty good overview:

#. The Offical Tutorial
: These can be found [here](http://www.qlcplus.org/tutorials.html). Tutorials #1,2 and #4 are most relevant to what we do.

#. User Interface specific
: [This](https://youtu.be/a7Arrx7XrRs) one covers the interface from the perspective of the Virtual Console.

The primary interface is the Virtual Console. QLC+ allows complete customization of what that interface looks like. What we operate is different than what you will see in the tutorials because it is customized to what we want and need. 

Our current interface design is oriented towards simple operations where we have a handful of presets that select as the service progresses.

Along the bottom of the screen there is a row of tabs that change the aspect of the program you are working with. One the screen they look like this, the active tabe is blue.

![Tabs](../../images/sol-qlc-tabs.png)

The purpose of each is:

Fixtures
: Defines the characteristcis of each fixture. For example, the DMX channel number assignment. For a simple dimmer, there would be only one. For a more sophisticated LED fixture there could be lots.

Functions
: Functions are groupings of fixtures with set channel levels for each included fixture. it can also include a fade-in and fade-out time. We assign functions to buttons on the virtrual console.

Shows
: We won't be using this normally

Virtual Console
: The virtual console is configured by us to suit our operational needs. This is the area we use most. It has its own section below.

Simple Desk
: The simple desk provides a slider for every channel. We don't typically operate the system from here, but sometimes it is handy for setup or trouble shooting. If you find a light that won't go off, check to make sure it is not being forced on from the simple desk.

Input/Outputs
: In normal operation we wont need to use this but may if we need to trouble shoot a problem.


We will know go into several of them in detail, starting with what we use most.

##Virtual Console

![The Virtual Console Tab](../../images/sol-qlc-tabs.png)

We have configured our virtual console to be mostly buttons. Each button is associated with a function, and a function is a collection of settings. Functions will be discussed in detail below.

When a button is active, it will have a green border around it. (Or it could be orange - when a function is linked to two buttons the one that is clicked will be green, and the other will be orange.)

###Design and Operate Mode

In the upper right of the screen you will see a row of controls that look like this:

![Design mode - green triangle will transition to Operate](../../images/sol-qlc-controls1.png)

or this:

![Operate mode - red sqaure will transition to Run](../../images/sol-qlc-controls2.png)

The difference is the very last control. The presence of the green triangle indicates you are in design mode, and clicking that control will take you into operate mode. Think of the green arrow as 'play' - ready to go.

The presence of the red button indicates you are in operate mode. This is the mode that you would be in most of the time during a service. Pressing the red square says 'stop' and places you back into design mode.

Swithing back to design mode will not affect the current lighting look.

###Frames
The buttons are grouped inside frames, some frames are red and others are black. The frame colour tells you how the buttons will behave.

Red Frames
: These are called solo frames. Only one button at a time can be active (green border). When one button in a solo frame is active and another one in the same frame is pushed, it will dectivate the former button (like old fashioned car radios).

Black Frames
: Multiple buttons can active at the same time.



###Expanding and collapsing frames

Frames can be expanded and collapsed. This is useful for frames you don't always want to be visible on the screen. Clicking this icon will toggle the expanded or contracted view.
  
![This is what the expand / collapse icon looks like.](../../images/sol-qlc-expand.png)

###Enabling and disabling a frame

A frame's function can be disabled completely. This is useful if you want to prevent an accidental click on a function you don't need at the moment or if it is an automated function you want to turn off - for example an audio trigger.

![This is the enable / disable icon. It has a green shade when enabled.](../../images/sol-qlc-enable.png)

[Back to top](#top) 

##Functions

![The functions tab ](../../images/sol-qlc-functions.png)

The functions tab is the second most used tab within the program. You would use this mosly when setting up a service. At UAC is is mostly used for defining scenes.

Within the main window there is the Scenes hierachy of objects. 

![scenes](../../images/sol-qlc-function-scene.png)

Within that there will be folders of scene defintions. There are a few folders for generic things, for exmaple there is one called "Preset Scenes", and there are others which have been created for specfic events. 

![The Preset Scenes Group](../../images/sol-qlc-preset-scenes.png)

When selecting one of those items, a window opens up at the bottom which has all of settings for that scene, which can be a lot.

This is what one of them coould look like (This is one called "PS 1 Walkin").

![Sample Scene](../../images/sol-qlc-scene-general.png)

There is a whole row of icons across the top. The purpose of each of those, that matter to us, will be breifly discussed. 
 
![Enables or Disables Channels](../../images/sol-qlc-scene-enable.png) 
 
When a fixtures is selected, these icons allow you to activate (or deactivate) the channels for the selected fixture. You can observe this behaviour by looking at the row of checkboxes above each slider.
 
![Fixture selector](../../images/sol-qlc-functions-scene-arrows.png) 

This is a shortcut to step across the list of fixtures.

![The Timer](../../images/sol-qlc-functions-timer.png)

Clicking on the clock icon pops up the timer details.

The timer is a commonly used feature. By default, when a function is activated it happens instantly. Likewise when turn it off. The timer lets us define transition times to make them more gradual. A good rule of thumb is 5 seconds is slow enough that it will be hardly noticed. 

You cane set the "fade in" and "fade out" times independently.

The detailed settings are shown below.

![Timer Details](../../images/sol-qlc-functions-timerdetail.png)

![Preview](../../images/sol-qlc-scene-preview.png)

>To be written. 

![Fixture Details](../../images/sol-qlc-scene-fixture-details.png)

>To be written

[Back to top](#top) 

##Fixtures

![Fixtures Tab](../../images/sol-qlc-tab-fixtures.png)

This is where we define all of the lighting instruments we have installed and since that doesn't change often we don't need to use it often.

You might refer to this section if you are trying to follow the configurtation. 

"*Fixture Groups*" and "*Channel Groups*" are two kinds of configurations that are defined here, there is a toggle which allows you to choose which you are working with. 

**Fixture Groups**

![Fixture Groups Selected](../../images/sol-qlc-fixtures-fgroups.png)

This is the defintion of each individual fixture. Select one to see the overview of the defintion. The key peice of information you would typical want is the "Address Range" and "Channel" information. More information can be see by using the "Wrench and Screwdriver" icon to see the properties details.

**Channel Groups**

![Channel Groups Selected](../../images/sol-qlc-fixtures-cgroups.png)

Channel Groups are useful to group together similar channels from several fixtures to operate as a unit. For example if we want all light bars to behave the same we could define a channel group. 

There is a trade-off between using the individual fixtures in a function and a channel group, particularly with RGB fixtures. When using the individual fixutres you can set the colour using the palette icon in the scene editor. If a channel group is used, you lose that feature and you have to set the colours manually.

**Other Controls**

![Add and Remove Buttons](../../images/sol-qlc-fixtures-main.png)

Use the "+" or "-" to add or remove a fixture or a channel group. Use the "wrench and screwdriver" to make changes.

[Back to top](#top) 

##Simple Desk

![Simple Desk Tab](../../images/sol-qlc-tab-simple.png)

The Simple Desk provides a slider for each channel. You would typically not want to run a show this way, instead it is most useful to test a lamp or a connection in isolation. If you modify a level on the simple desk, that strip will turn red. You need to remember to click the "X" at the bottom of the strip to release control. If you run across a scenario where a light seems to be stuck on, check the Simple Desk. There is likely a "red" strip with a set level.

[Back to top](#top) 

##Input/Output

![Input/Output Tab](../../images/sol-qlc-tab-io.png)

The Input/Output tab is another area which is not likely to be used on a regular basis. If the program doesn't seem to control tihngs like it should, you need to check these settings. 

The correct settings need to be set by ensuring you have the "UAC" universe selected and then the "DMX USB" output box is checked. 

![Correct Output Settings](../../images/sol-qlc-io-detail.png)

[Back to top](#top) 

#Operating the Express Console

>To be written.

[Back to top](#top)

# Blinds and Shades

We have two ways of controlling the light the enters the sanctuary via the exterior windows: semi-transparent shades and blackout blinds.

### Shade Operation

The shades are operated manually. There is a chrome chain in each window which runs the shade up or down.  

### Blind Operation

The blackout blinds operate on four banks of three blinds (one bank per wall). The switches are under the second desk near the computer.
They are labelled: SE, NE, SW, and NW, which stands for the combinations of South, East, North and West.

Each switch has three positions: Up, center and down. The Up and Down positions move the blinds in that direction. Centre is ‘off’, but does not stop a blind mid-way. When a blind is set to move in a direction it will do so until it is fully up or fully down. There are internal limit switches that will stop the blind at the limit. The switch does not have to be returned to the centre position.

To stop a blind mid-way while travelling, momentarily flick the switch in the opposite direction and then return the switch to centre. If you pause too long in the opposite direction the blind will reverse direction rather than stop.

When the service is over, please ensure that the blinds are all the way up. If left down for long periods of time in the bright daylight, heat builds up between the blind and the window and the blind deforms and pops out of the track.

### Troubleshooting

If a blind pops out of its track. 
: Running the blinds up and down a **little** bit at a time can sometimes get them back in their track. An assistant at the blind can reach in behind and help guide them in. If it is more than a few inches, a ladder may be required to reinsert the blind into the track.

[Back to top](#top)

# Appendix

## Lighting Terminology

> So much more to be added here.

DMX / DMX512
: an industry standard lighting control protocol. A universe is a group of 512 channels, numbered 1 through 512. 

[Back to top](#top)

`r knit_child('FurtherInformation.Rmd', quiet=TRUE)`

[Back to top](#top)

# Document Source
This document is compiled by merging text and data together using rmarkdown. The source is found here `r paste0(getwd(),  "/", knitr::current_input())`.